<!-- HTML header for doxygen 1.8.20-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="Dakota Developers Manual" />
<meta name="keywords" content="optimization, uncertainty quantification, model calibration, parameter estimation, sensitivity analysis, parallel computing, developers manual" />
<meta name="sandia.approval_type" content="formal" />
<meta name="sandia.approved" content="2010-2185" />
<link rev="owns" title="Brian M. Adams" href="mailto:briadam@sandia.gov" />
<meta name="Author" content="Brian M. Adams" />
<title>Dakota: Performing Function Evaluations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DAKOTA_Arrow_Name_77x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dakota
   &#160;<span id="projectnumber">Version 6.19</span>
   </div>
   <div id="projectbrief">Explore and Predict with Confidence</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Performing Function Evaluations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> 
<b>Performing Function Evaluations Table of Contents</b>
<ul>
<li> <a href="FnEvals.html#FnEvalsSynch">Synchronous function evaluations</a> 
<li> <a href="FnEvals.html#FnEvalsAsynch">Asynchronous function evaluations</a> 
<li> <a href="FnEvals.html#FnEvalsAnalyses">Analyses within each function 
evaluation</a>
</ul>
</p>
<p>Performing function evaluations is one of the most critical functions of the Dakota software. It can also be one of the most complicated, as a variety of scheduling approaches and parallelism levels are supported. This complexity manifests itself in the code through a series of cascaded member functions, from the top level model evaluation functions, through various scheduling routines, to the low level details of performing a system call, fork, or direct function invocation. This section provides an overview of the primary classes and member functions involved.</p>
<h1><a class="anchor" id="FnEvalsSynch"></a>
Synchronous function evaluations</h1>
<p>For a synchronous (i.e., blocking) mapping of parameters to responses, an iterator invokes <a class="el" href="classDakota_1_1Model.html#a640eb3c435abcfe65e13558fc738b915">Model::evaluate()</a> to perform a function evaluation. This function is all that is seen from the iterator level, as underlying complexities are isolated. The binding of this top level function with lower level functions is as follows: </p><ul>
<li>
<a class="el" href="classDakota_1_1Model.html#a640eb3c435abcfe65e13558fc738b915">Model::evaluate()</a> utilizes <a class="el" href="classDakota_1_1Model.html#a5f836ab625a3ebd3879b556d0c68b5c0">Model::derived_evaluate()</a> for portions of the response computation specific to derived model classes. </li>
<li>
<a class="el" href="classDakota_1_1Model.html#a5f836ab625a3ebd3879b556d0c68b5c0">Model::derived_evaluate()</a> directly or indirectly invokes <a class="el" href="classDakota_1_1Interface.html#a999c6f807e9ea92b96d6bbc2f7873cca">Interface::map()</a>. </li>
<li>
<a class="el" href="classDakota_1_1Interface.html#a999c6f807e9ea92b96d6bbc2f7873cca">Interface::map()</a> utilizes <a class="el" href="classDakota_1_1ApplicationInterface.html#af70c12f41f85168080d1e68b0334258a">ApplicationInterface::derived_map()</a> for portions of the mapping specific to derived application interface classes. </li>
</ul>
<h1><a class="anchor" id="FnEvalsAsynch"></a>
Asynchronous function evaluations</h1>
<p>For an asynchronous (i.e., nonblocking) mapping of parameters to responses, an iterator invokes <a class="el" href="classDakota_1_1Model.html#ae8b40f95dfd7a22b22af0faf2d326042">Model::evaluate_nowait()</a> multiple times to queue asynchronous jobs and then invokes either <a class="el" href="classDakota_1_1Model.html#ab596ce6c762ef2fcfde22f3b2469b02c">Model::synchronize()</a> or <a class="el" href="classDakota_1_1Model.html#a2a0e88fca3d4b493e3f90d98efd23ea6">Model::synchronize_nowait()</a> to schedule the queued jobs in blocking or nonblocking fashion. Again, these functions are all that is seen from the iterator level, as underlying complexities are isolated. The binding of these top level functions with lower level functions is as follows: </p><ul>
<li>
<a class="el" href="classDakota_1_1Model.html#ae8b40f95dfd7a22b22af0faf2d326042">Model::evaluate_nowait()</a> utilizes <a class="el" href="classDakota_1_1Model.html#ae3df996baa8d69edbaf297eaa16c4d40">Model::derived_evaluate_nowait()</a> for portions of the response computation specific to derived model classes. </li>
<li>
This derived model class function directly or indirectly invokes <a class="el" href="classDakota_1_1Interface.html#a999c6f807e9ea92b96d6bbc2f7873cca">Interface::map()</a> in asynchronous mode, which adds the job to a scheduling queue. </li>
<li>
<a class="el" href="classDakota_1_1Model.html#ab596ce6c762ef2fcfde22f3b2469b02c">Model::synchronize()</a> or <a class="el" href="classDakota_1_1Model.html#a2a0e88fca3d4b493e3f90d98efd23ea6">Model::synchronize_nowait()</a> utilize <a class="el" href="classDakota_1_1Model.html#a73e549d3ba010d88feecb92ea3733202">Model::derived_synchronize()</a> or <a class="el" href="classDakota_1_1Model.html#ade397231045536a447bef3001d4efa58">Model::derived_synchronize_nowait()</a> for portions of the scheduling process specific to derived model classes. </li>
<li>
These derived model class functions directly or indirectly invoke <a class="el" href="classDakota_1_1Interface.html#ab596ce6c762ef2fcfde22f3b2469b02c">Interface::synchronize()</a> or <a class="el" href="classDakota_1_1Interface.html#a2a0e88fca3d4b493e3f90d98efd23ea6">Interface::synchronize_nowait()</a>. </li>
<li>
<p class="startli">For application interfaces, these interface synchronization functions are responsible for performing evaluation scheduling in one of the following modes: master dynamic, peer dynamic or peer static.</p>
<p class="endli"></p>
</li>
<li>
<em>NOTE: The <a class="el" href="classDakota_1_1Interface.html" title="Base class for the interface class hierarchy.">Interface</a> evaluation scheduling in Dakota was refactored for releases 5.4 and 6.0. Discussion of the new Interface-related functions is currently missing here.</em> </li>
</ul>
<h1><a class="anchor" id="FnEvalsAnalyses"></a>
Analyses within each function evaluation</h1>
<p><em>NOTE: The <a class="el" href="classDakota_1_1Interface.html" title="Base class for the interface class hierarchy.">Interface</a> evaluation scheduling in Dakota was refactored for releases 5.4 and 6.0. Discussion of the new Interface-related functions for analyses is currently missing here.</em></p>
<p>The discussion above covers the parallelism level of concurrent function evaluations serving an iterator. For the parallelism level of concurrent analyses serving a function evaluation, similar schedulers are involved</p>
<p>to support synchronous local, asynchronous local, message passing, and hybrid modes. Not all of the schedulers are elevated to the <a class="el" href="classDakota_1_1ApplicationInterface.html" title="Derived class within the interface class hierarchy for supporting interfaces to simulation codes.">ApplicationInterface</a> level since the system call and direct function interfaces do not yet support nonblocking local analyses (and therefore support synchronous local and message passing modes, but not asynchronous local or hybrid modes). Fork interfaces, however, support all modes of analysis parallelism. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
